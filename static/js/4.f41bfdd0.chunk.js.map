{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","features/songs/list/SongListItem.tsx","features/songs/list/SongListPage.tsx","features/songs/list/useSongList.ts"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","SongListItem","id","title","artist","useTransition","setTransition","history","useHistory","handleTransition","a","Promise","all","SongDetailPage","preload","mutate","songsAPI","fetchById","LinkContainer","onClick","SongTitle","SongArtist","styled","h1","span","SongListPage","data","useSWR","fetchAll","suspense","revalidateOnFocus","revalidateOnReconnect","map","song","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"qGAAe,SAASA,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,ECVT,SAASQ,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,E,gKCEF,SAASQ,EAAT,GAAiE,IAAzCC,EAAwC,EAAxCA,GAAIC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,OAA6B,EAC3CC,cAAjBC,EAD4D,oBAE/DC,EAAUC,cAEVC,EAAgB,uCAAG,sBAAAC,EAAA,6DACvBJ,GAAc,GADS,SAEjBK,QAAQC,IAAI,CAChBC,IAAeC,UACfC,YAAO,CAAC,QAASb,GAAKc,IAASC,UAAUf,IAAK,KAJzB,OAMvBI,GAAc,GACdC,EAAQR,KAAR,gBAAsBG,IAPC,2CAAH,qDAUtB,OACE,eAACgB,EAAD,CAAeC,QAASV,EAAxB,UACE,cAACW,EAAD,UAAYjB,IACZ,cAACkB,EAAD,UAAajB,OAKnB,IAAMc,EAAgBI,IAAOZ,EAAV,wIAQbU,EAAYE,IAAOC,GAAV,kFAMTF,EAAaC,IAAOE,KAAV,+CC9CT,SAASC,IAAgB,IACtBC,ECSDC,YAAO,WAAYX,IAASY,SAAU,CAC3CC,UAAU,EACVC,mBAAmB,EACnBC,uBAAuB,IDZjBL,KAER,OACE,8BACGA,EAAKM,KAAI,SAACC,GAAD,OACR,cAAChC,EFKM,SAAwBiC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACN7C,EAAQL,OAAOqD,IAAS,GAAMC,SAAQ,SAAUxD,GAC9C,EAAemD,EAAQnD,EAAKuD,EAAOvD,OAE5BE,OAAOuD,0BAChBvD,OAAOwD,iBAAiBP,EAAQjD,OAAOuD,0BAA0BF,IAEjEhD,EAAQL,OAAOqD,IAASC,SAAQ,SAAUxD,GACxCE,OAAOC,eAAegD,EAAQnD,EAAKE,OAAOa,yBAAyBwC,EAAQvD,OAKjF,OAAOmD,EEtBD,IAAgCD,GAAbA,EAAK/B,SAMjBuB","file":"static/js/4.f41bfdd0.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from 'react';\nimport styled from '@emotion/styled';\nimport { useHistory } from 'react-router-dom';\nimport { mutate } from 'swr';\n\nimport { SongDetailPage } from 'app/RouteSwitch';\nimport { useTransition } from 'common/transition/TransitionContext';\nimport { songsAPI } from 'features/songs/songsAPI';\n\ninterface SongListItemProps {\n  id: string;\n  title: string;\n  artist: string;\n}\n\nexport function SongListItem({ id, title, artist }: SongListItemProps) {\n  const [, setTransition] = useTransition();\n  const history = useHistory();\n\n  const handleTransition = async () => {\n    setTransition(true);\n    await Promise.all([\n      SongDetailPage.preload(),\n      mutate(['songs', id], songsAPI.fetchById(id), false),\n    ]);\n    setTransition(false);\n    history.push(`songs/${id}`);\n  };\n\n  return (\n    <LinkContainer onClick={handleTransition}>\n      <SongTitle>{title}</SongTitle>\n      <SongArtist>{artist}</SongArtist>\n    </LinkContainer>\n  );\n}\n\nconst LinkContainer = styled.a`\n  display: flex;\n  width: 200px;\n  text-decoration: none;\n  flex-direction: column;\n  cursor: pointer;\n`;\n\nconst SongTitle = styled.h1`\n  font-size: 16px;\n  color: #fff;\n  margin-top: 0;\n`;\n\nconst SongArtist = styled.span`\n  color: #d9d9de;\n`;\n","import React from 'react';\n\nimport { useSongList } from './useSongList';\nimport { SongListItem } from './SongListItem';\n\nexport function SongListPage() {\n  const { data } = useSongList();\n\n  return (\n    <div>\n      {data.map((song) => (\n        <SongListItem key={song.id} {...song} />\n      ))}\n    </div>\n  );\n}\n\nexport default SongListPage;\n","import useSWR, { SWRResponse } from 'swr';\n\nimport { songsAPI } from 'features/songs/songsAPI';\n\ninterface Song {\n  id: string;\n  artist: string;\n  title: string;\n}\n\ninterface SuspenseResponseInterface extends SWRResponse<Song[], any> {\n  data: Song[];\n}\n\nexport const useSongList = () => {\n  return useSWR('songList', songsAPI.fetchAll, {\n    suspense: true,\n    revalidateOnFocus: false,\n    revalidateOnReconnect: false,\n  }) as SuspenseResponseInterface;\n};\n"],"sourceRoot":""}